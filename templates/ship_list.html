{% extends 'base.html' %}

{% block title %}船舶管理 - {{ block.super }}{% endblock %}

{% block content %}
<h2>船舶管理</h2>
<a href="{% url 'ship_create' %}" class="btn btn-primary mb-3">添加新船舶</a>

{% if error %}
    <div class="alert alert-danger">{{ error }}</div>
{% endif %}

<table class="table table-striped table-bordered">
    <thead class="table-dark">
        <tr>
            <th>MMSI</th>
            <th>船名</th>
            <th>呼号</th>
            <th>船东</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
        {% for ship in ships %}
        <tr>
            <td>{{ ship.mmsi }}</td>
            <td>{{ ship.ship_name }}</td>
            <td>{{ ship.call_sign }}</td>
            <td>{{ ship.ship_owner }}</td>
            <td>
                <a href="{% url 'ship_update' ship.mmsi %}" class="btn btn-warning btn-sm">编辑</a>
                <a href="{% url 'ship_delete' ship.mmsi %}" class="btn btn-danger btn-sm">删除</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5" class="text-center">暂无船舶信息。</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}