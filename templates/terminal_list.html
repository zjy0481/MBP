{% extends 'base.html' %}

{% block title %}端站管理 - {{ block.super }}{% endblock %}

{% block content %}
<h2>端站管理</h2>
<a href="{% url 'terminal_create' %}" class="btn btn-primary mb-3">添加新端站</a>

{% if error %}
    <div class="alert alert-danger">{{ error }}</div>
{% endif %}

<table class="table table-striped table-bordered">
    <thead class="table-dark">
        <tr>
            <th>SN码</th>
            <th>所属船舶 (呼号)</th>
            <th>IP地址</th>
            <th>端口号</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
        {% for terminal in terminals %}
        <tr>
            <td>{{ terminal.sn }}</td>
            <td>{{ terminal.ship.ship_name }} ({{ terminal.ship.call_sign }})</td>
            <td>{{ terminal.ip_address|default:"--" }}</td>
            <td>{{ terminal.port_number|default:"--" }}</td>
            <td>
                <a href="{% url 'terminal_update' terminal.sn %}" class="btn btn-warning btn-sm">编辑</a>
                <a href="{% url 'terminal_delete' terminal.sn %}" class="btn btn-danger btn-sm">删除</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5" class="text-center">暂无端站信息。</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}